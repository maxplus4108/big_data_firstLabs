# Task 1: Подготовка БД PostgreSQL в Docker

Контейнеризация локальной базы данных для хранения и анализа логов образовательной платформы. Проект включает автоматическую инициализацию схемы БД и первичную загрузку датасетов из CSV.

## Реализованные изменения в архитектуре
В ходе выполнения задания исходная структура была нормализована:
* Создана отдельная таблица-справочник `departments` (43 записи).
* Поле `Depart` в основной таблице `user_logs` (414 528 записей) приведено к типу `INTEGER` для корректного связывания со справочником.
* Настроены скрипты автоматического импорта данных (`init.sh`).

## Быстрый старт

**1. Запуск:**
```bash
docker-compose up --build -d
```

**2. Подключение к СУБД:**
```bash
# Проваливаемся в контейнер (вместо <id> укажите CONTAINER ID из вывода docker ps)
docker exec -it <id> bash

# Подключаемся к базе
psql -U root -d user_logs_db
```

## Команды для работы с psql

* `\dt` — вывести список всех таблиц в текущей БД.
* `SELECT COUNT(*) FROM user_logs;` — проверить количество импортированных строк.
* `\d user_logs` — посмотреть структуру таблицы (колонки и типы данных).
* `\q` — выйти из интерфейса PostgreSQL.

## Тестовый запрос (JOIN)

```sql
SELECT 
    u.userid, 
    u.courseid, 
    d.name AS department_name
FROM user_logs u
JOIN departments d ON u.Depart = d.id
LIMIT 10;
```

## Очистка среды
```bash
docker-compose down -v
```